UILib={}UILib.__index=UILib;local a=game:GetService("Players").LocalPlayer;local b=a:GetMouse()local function c(d,e,f)if d<e then return e elseif d>f then return f else return d end end;local function g()return Vector2.new(b.X,b.Y)end;function UILib._IsMouseWithinBounds(h,i)local j=g()return h and i and j.X>=h.x and j.x<=h.x+i.x and j.y>=h.y and j.y<=h.y+i.y end;local k=true;local l,m=200,200;local n,o=600,350;local p,q=100,30;local r=10;local s=420;local t=35;local u=120;local v=20;local w=25;local x=Color3.fromRGB(20,20,20)local y=Color3.fromRGB(106,0,255)local z=Color3.fromRGB(30,30,30)local A=Color3.fromRGB(255,255,255)local B=Color3.fromRGB(40,40,40)local C=Color3.fromRGB(40,40,40)local D=Color3.fromRGB(50,50,50)local E=false;local F=Vector2.new(0,0)local G=false;local H=false;local I=true;local J={}local K={}local L={}local M={}local N={}local function O(P,d)for Q,R in ipairs(P)do if R==d then return Q end end;return nil end;local S,T=800,600;local U=1;local V=U+10;local W=V+10;local X=W+10;local Y=9000;local Z=9500;local _=9900;local a0=9999;local a1=9000;local a2=Color3.fromRGB(60,60,60)local a3=Color3.fromRGB(40,40,40)local a4=0.5;local a5={}local a6={}local a7={A=0x41,B=0x42,C=0x43,D=0x44,E=0x45,F=0x46,G=0x47,H=0x48,I=0x49,J=0x4A,K=0x4B,L=0x4C,M=0x4D,N=0x4E,O=0x4F,P=0x50,Q=0x51,R=0x52,S=0x53,T=0x54,U=0x55,V=0x56,W=0x57,X=0x58,Y=0x59,Z=0x5A,M1=0x01,M2=0x02,["1"]=0x31,["2"]=0x32,["3"]=0x33,["4"]=0x34,["5"]=0x35,["6"]=0x36,["7"]=0x37,["8"]=0x38,["9"]=0x39,["0"]=0x30,SHIFT=0x10,RSHIFT=0xA1,CONTROL=0x11,RCONTROL=0xA3,BACKSPACE=0x08,SPACE=0x20,ENTER=0x0D,TAB=0x09,END=0x23,ESCAPE=0x1B}local function a8(a9)for aa,ab in pairs(a7)do if ab==a9 then return aa end end;return nil end;local function ac(a9)if iskeypressed(a9)then if N[a9]then M[a9]=true;L[a9]=true;N[a9]=false;return true else M[a9]=false;L[a9]=true end else M[a9]=false;L[a9]=false;N[a9]=true end;return false end;local ad={}local function ae(a9)if not isrbxactive()then return false end;if iskeypressed(a9)then if not ad[a9]then ad[a9]=true;return true end else ad[a9]=false end;return false end;local af={}local ag=0.4;local ah=0.05;local function ai(a9)if not isrbxactive()then return false end;local aj=os.clock()local ak=af[a9]if iskeypressed(a9)then if not ak then af[a9]=aj;return true else local al=aj-ak;if al>=ag then local am=math.floor((al-ag)/ah)local an=ak+ag+am*ah;if aj-an>=ah then return true end end end else af[a9]=nil end;return false end;local ao={}local function ap(a9)if not isrbxactive()then return false end;local aq=ao[a9]local ar=iskeypressed(a9)ao[a9]=ar;return ar and not aq end;local as={BASE=1000,WINDOW=2000,CONTROLS=3000,DROPDOWN_BASE=8000,DROPDOWN_OPTIONS=9000,DROPDOWN_HOVER=9500,DROPDOWN_TEXT=9999,COLOR_PICKER=10000}local function at(au,av,R)if av<=0 then return R,R,R end;au=au*6;local aw=R*av;local ax=aw*(1-math.abs(au%2-1))local ay=R-aw;local az,aA,aB=0,0,0;if au<1 then az,aA,aB=aw,ax,0 elseif au<2 then az,aA,aB=ax,aw,0 elseif au<3 then az,aA,aB=0,aw,ax elseif au<4 then az,aA,aB=0,ax,aw elseif au<5 then az,aA,aB=ax,0,aw else az,aA,aB=aw,0,ax end;return az+ay,aA+ay,aB+ay end;local function aC(az,aA,aB)local aD=255;local aE=az/aD;local aF=aA/aD;local aG=aB/aD;local f=math.max(aE,aF,aG)local e=math.min(aE,aF,aG)local aH=f-e;local au,av,R;R=f;if f==0 then av=0 else av=aH/f end;if aH==0 then au=0 else if f==aE then au=(aF-aG)/aH;if aF<aG then au=au+6 end elseif f==aF then au=(aG-aE)/aH+2 else au=(aE-aF)/aH+4 end;au=au/6 end;return au,av,R end;function UILib:CreateWindow(aI)local self=setmetatable({},UILib)self.tabs={}self.activeTab=nil;self.name=aI.Name or"Window"self.loadingTitle=aI.LoadingTitle or"Loading..."self.loadingSubtitle=aI.LoadingSubtitle or""self.theme=aI.Theme or"Default"self.toggleKey=aI.ToggleUIKeybind or"K"self.minimized=false;self.notifications={}self.base=Drawing.new("Square")self.base.Size=Vector2.new(n,o)self.base.Position=Vector2.new(l,m)self.base.Filled=true;self.base.Color=x;self.base.Visible=k;self.base.Corner=7;self.base.ZIndex=V;self.closeBox=Drawing.new("Square")self.closeBox.Size=Vector2.new(25,25)self.closeBox.Position=Vector2.new(l+n-30,m+5)self.closeBox.Filled=true;self.closeBox.Color=Color3.fromRGB(40,40,40)self.closeBox.Visible=false;self.closeBox.Corner=5;self.closeBox.ZIndex=10;self.closeLine1=Drawing.new("Line")self.closeLine1.From=Vector2.new(l+n-25,m+10)self.closeLine1.To=Vector2.new(l+n-10,m+25)self.closeLine1.Color=A;self.closeLine1.Thickness=2;self.closeLine1.Visible=k;self.closeLine1.ZIndex=13;self.closeLine2=Drawing.new("Line")self.closeLine2.From=Vector2.new(l+n-25,m+25)self.closeLine2.To=Vector2.new(l+n-10,m+10)self.closeLine2.Color=A;self.closeLine2.Thickness=2;self.closeLine2.Visible=k;self.closeLine2.ZIndex=13;self.minimizeBox=Drawing.new("Square")self.minimizeBox.Size=Vector2.new(25,25)self.minimizeBox.Position=Vector2.new(l+n-60,m+5)self.minimizeBox.Filled=true;self.minimizeBox.Color=Color3.fromRGB(40,40,40)self.minimizeBox.Visible=false;self.minimizeBox.Corner=5;self.minimizeBox.ZIndex=13;self.minimizeLine=Drawing.new("Line")self.minimizeLine.From=Vector2.new(l+n-55,m+17)self.minimizeLine.To=Vector2.new(l+n-40,m+17)self.minimizeLine.Color=A;self.minimizeLine.Thickness=2;self.minimizeLine.Visible=k;self.minimizeLine.ZIndex=13;self.title=Drawing.new("Text")self.title.Text=self.name;self.title.Position=Vector2.new(l+10,m+10)self.title.Color=A;self.title.Visible=k;self.title.ZIndex=12;function self:CreateTab(aa)local aJ=#self.tabs+1;local aK=m+50+(aJ-1)*(q+r)local aL="tab_"..aJ;local aM=Drawing.new("Square")aM.Size=Vector2.new(p,q)aM.Position=Vector2.new(l+10,aK)aM.Filled=true;aM.Color=z;aM.Visible=k;aM.Corner=5;aM.ZIndex=W;local aN=Drawing.new("Text")aN.Text=aa;aN.Position=Vector2.new(l+20,aK+8)aN.Color=A;aN.Visible=k;aN.ZIndex=X;local aO=Drawing.new("Square")aO.Size=Vector2.new(7,20)aO.Position=Vector2.new(l+10,aK+5)aO.Filled=true;aO.Color=y;aO.Visible=false;aO.Corner=5;aO.ZIndex=X;local aP={index=aJ,id=aL,name=aa,tab=aM,label=aN,indicator=aO,pos=Vector2.new(l+10,aK),size=Vector2.new(p,q),items={}}function aP:CreateButton(aI)return UILib:CreateButton(self,aI.Name,aI.Callback)end;function aP:CreateToggle(aI)return UILib:CreateToggle(self,aI.Name,aI.CurrentValue,aI.Callback)end;function aP:CreateSlider(aI)return UILib:CreateSlider(self,aI.Name,aI.Range[1],aI.Range[2],aI.CurrentValue,aI.Increment,aI.Callback)end;function aP:CreateDropdown(aI)return UILib:CreateDropdown(self,aI.Name,aI.Options,aI.CurrentOption[1],aI.Callback,aI.MultipleOptions)end;function aP:CreateTextbox(aI)return UILib:CreateTextbox(self,aI.Name,aI.Default,aI.PlaceholderText,aI.ClearTextOnFocus,aI.Callback)end;function aP:CreateColorPicker(aI)return UILib:CreateColorPicker(self,aI.Name,aI.Default,aI.Callback)end;K[aL]=false;table.insert(self.tabs,aP)if not self.activeTab then self.activeTab=aP;aO.Visible=true end;return aP end;return self end;function UILib:CreateButton(aP,aQ,aR)local aS="button_"..#aP.items+1;local aT=Drawing.new("Square")aT.Filled=true;aT.Corner=5;aT.ZIndex=X;local aU=Drawing.new("Text")aU.Color=A;aU.ZIndex=X+1;local aV=Drawing.new("Line")aV.Color=A;aV.Thickness=2;aV.ZIndex=X+2;local aW=Drawing.new("Line")aW.Color=A;aW.Thickness=2;aW.ZIndex=X+2;local aX={type="button",id=aS,container=aT,label=aU,arrowLine1=aV,arrowLine2=aW,callback=aR,text=aQ,containerPos=Vector2.new(0,0),containerSize=Vector2.new(s,t),isHovered=false,wasPressed=false}J[aS]=false;table.insert(aP.items,aX)return aX end;function UILib:CreateToggle(aP,aQ,aY,aR)local aT=Drawing.new("Square")aT.Filled=true;aT.Corner=5;aT.ZIndex=X;local aZ=Drawing.new("Square")aZ.Filled=true;aZ.Corner=3;aZ.ZIndex=X+1;local a_=Drawing.new("Square")a_.Filled=true;a_.Corner=2;a_.ZIndex=X+2;local aU=Drawing.new("Text")aU.Color=A;aU.ZIndex=X+1;local aX={type="toggle",container=aT,box=aZ,fill=a_,label=aU,state=aY,callback=aR,text=aQ,containerPos=Vector2.new(0,0),containerSize=Vector2.new(s,t),checkboxPos=Vector2.new(0,0),checkboxSize=Vector2.new(v,v)}table.insert(aP.items,aX)return aX end;function UILib:CreateSlider(aP,aQ,e,f,aY,b0,aR)local b1=Drawing.new("Square")b1.Size=Vector2.new(10,16)b1.Filled=true;b1.Color=y;b1.Visible=false;b1.Corner=3;b1.ZIndex=X+3;local aT=Drawing.new("Square")aT.Filled=true;aT.Corner=5;aT.ZIndex=X;local b2=Drawing.new("Square")b2.Filled=true;b2.Corner=3;b2.ZIndex=X+1;local a_=Drawing.new("Square")a_.Filled=true;a_.Corner=3;a_.ZIndex=X+2;local aU=Drawing.new("Text")aU.Color=A;aU.ZIndex=X+1;local b3=Drawing.new("Text")b3.Color=A;b3.ZIndex=X+1;local aX={type="slider",container=aT,bar=b2,fill=a_,label=aU,valueLabel=b3,indicator=b1,min=e,max=f,value=aY,step=b0,callback=aR,text=aQ,containerPos=Vector2.new(0,0),containerSize=Vector2.new(s,t),sliderPos=Vector2.new(0,0),sliderSize=Vector2.new(u,10)}table.insert(aP.items,aX)return aX end;function UILib:CreateDropdown(aP,aQ,b4,aY,aR,b5)local b6="dropdown_"..#aP.items+1;local aT=Drawing.new("Square")aT.Filled=true;aT.Color=z;aT.Corner=5;aT.ZIndex=as.CONTROLS;aT.Position=Vector2.new(0,0)aT.Size=Vector2.new(s,t)local aU=Drawing.new("Text")aU.Text=aQ;aU.Color=A;aU.ZIndex=as.CONTROLS+1;aU.Position=Vector2.new(0,0)local b7=Drawing.new("Square")b7.Filled=true;b7.Color=B;b7.Corner=5;b7.ZIndex=as.CONTROLS+2;b7.Position=Vector2.new(0,0)b7.Size=Vector2.new(120,24)local b8=Drawing.new("Text")b8.Color=A;b8.ZIndex=as.CONTROLS+3;b8.Position=Vector2.new(0,0)b8.Text=aY or b4[1]local b9=Drawing.new("Square")b9.Filled=true;b9.Color=z;b9.Corner=5;b9.Visible=false;b9.ZIndex=as.DROPDOWN_BASE;b9.Position=Vector2.new(0,0)b9.Size=Vector2.new(200,200)local ba={}for Q,bb in ipairs(b4)do local bc=Drawing.new("Square")bc.Filled=true;bc.Color=B;bc.Corner=5;bc.Visible=false;bc.ZIndex=as.DROPDOWN_OPTIONS+Q*2;bc.Position=Vector2.new(0,0)bc.Size=Vector2.new(190,25)local bd=Drawing.new("Text")local be=tostring(bb)bd.Text=be;bd.Color=A;bd.Visible=false;bd.ZIndex=as.DROPDOWN_OPTIONS+Q*2+1;bd.Position=Vector2.new(0,0)table.insert(ba,{background=bc,label=bd,text=bb,isHovered=false,selected=false})end;local aX={type="dropdown",id=b6,container=aT,label=aU,previewBox=b7,selectionText=b8,dropdownContainer=b9,options=ba,callback=aR,currentOption=aY or b4[1],selectedOptions={},isOpen=false,text=aQ,containerPos=Vector2.new(0,0),containerSize=Vector2.new(s,t),previewBoxSize=120,dropdownWidth=200,dropdownHeight=200,optionHeight=30,titleBg=nil,titleText=nil,multipleOptions=b5 or false}if b5 and type(aY)=="table"then for bf,bg in ipairs(aY)do aX.selectedOptions[bg]=true end end;aX.titleBg=Drawing.new("Square")aX.titleBg.Filled=true;aX.titleBg.Color=z;aX.titleBg.Corner=5;aX.titleBg.ZIndex=as.DROPDOWN_OPTIONS;aX.titleBg.Position=Vector2.new(0,0)aX.titleBg.Size=Vector2.new(200,35)aX.titleBg.Visible=false;aX.titleText=Drawing.new("Text")aX.titleText.Color=A;aX.titleText.ZIndex=as.DROPDOWN_OPTIONS+1;aX.titleText.Text=aQ;aX.titleText.Position=Vector2.new(0,0)aX.titleText.Visible=false;function aX:UpdateDropdown(j,bh)if not bh then self.dropdownContainer.Visible=false;if self.titleBg then self.titleBg.Visible=false end;if self.titleText then self.titleText.Visible=false end;for bf,bi in ipairs(self.options)do bi.background.Visible=false;bi.label.Visible=false end;return end;self.container.Position=self.containerPos;self.container.Size=self.containerSize;self.container.Visible=true;self.container.Color=z;self.label.Position=Vector2.new(self.containerPos.x+15,self.containerPos.y+self.containerSize.y/2-7)self.label.Visible=true;local bj=self.containerPos.x+self.containerSize.x-120-15;local bk=self.containerPos.y+(self.containerSize.y-24)/2;self.previewBox.Position=Vector2.new(bj,bk)self.previewBox.Size=Vector2.new(120,24)self.previewBox.Visible=true;if self.multipleOptions then local bl=0;self.selectedOptions=self.selectedOptions or{}for bg,bm in pairs(self.selectedOptions)do if bm then bl=bl+1 end end;self.selectionText.Text=bl>0 and bl.." selected"or"None"else self.selectionText.Text=self.currentOption end;self.selectionText.Position=Vector2.new(bj+10,bk+4)self.selectionText.Visible=true;if self.isOpen then local bn=self.containerPos.x+self.containerSize.x+10;local bo=self.containerPos.y;self.titleBg.Position=Vector2.new(bn,bo)self.titleBg.Size=Vector2.new(self.dropdownWidth,35)self.titleBg.Visible=true;self.titleText.Text=self.text;self.titleText.Position=Vector2.new(bn+10,bo+10)self.titleText.Visible=true;self.dropdownContainer.Position=Vector2.new(bn,bo)self.dropdownContainer.Size=Vector2.new(self.dropdownWidth,#self.options*self.optionHeight+35)self.dropdownContainer.Visible=true;for Q,bi in ipairs(self.options)do local bp=bo+35+(Q-1)*self.optionHeight;local bq=bn+5;bi.currentPos=Vector2.new(bq,bp)bi.currentSize=Vector2.new(self.dropdownWidth-10,self.optionHeight-5)bi.background.Position=bi.currentPos;bi.background.Size=bi.currentSize;bi.background.Visible=true;bi.label.Position=Vector2.new(bn+15,bp+7)bi.label.Visible=true;local br=j.x>=bi.currentPos.x and j.x<=bi.currentPos.x+bi.currentSize.x and j.y>=bi.currentPos.y and j.y<=bi.currentPos.y+bi.currentSize.y;if self.multipleOptions then bi.background.Color=self.selectedOptions[bi.text]and y or(br and D or B)else bi.background.Color=bi.text==self.currentOption and y or(br and D or B)end;bi.isHovered=br;if br and H then if self.multipleOptions then self.selectedOptions[bi.text]=not self.selectedOptions[bi.text]if self.callback then local bs={}for bg,bm in pairs(self.selectedOptions)do if bm then table.insert(bs,bg)end end;self.callback(bs)end else self.currentOption=bi.text;if self.callback then self.callback({bi.text})end end end end end end;J[b6]=false;table.insert(aP.items,aX)return aX end;function UILib:CreateTextbox(aP,aQ,aY,bt,bu,aR)local bv="textbox_"..#aP.items+1;local aT=Drawing.new("Square")aT.Filled=true;aT.Corner=5;aT.ZIndex=a1;aT.Color=z;aT.Position=Vector2.new(0,0)aT.Size=Vector2.new(s,t)local aU=Drawing.new("Text")aU.Color=A;aU.ZIndex=a1;aU.Position=Vector2.new(0,0)aU.Text=aQ;local bw=Drawing.new("Square")bw.Filled=true;bw.Color=a3;bw.Corner=5;bw.ZIndex=a1;bw.Position=Vector2.new(0,0)bw.Size=Vector2.new(120,24)local bx=Drawing.new("Text")bx.Color=A;bx.ZIndex=a1+1;bx.Position=Vector2.new(0,0)bx.Text=aY or""local aX={type="textbox",id=bv,container=aT,label=aU,inputBox=bw,inputText=bx,text=aQ,value=aY or"",placeholder=bt or"Type here...",clearOnFocus=bu or false,callback=aR,isFocused=false,containerPos=Vector2.new(0,0),containerSize=Vector2.new(s,t),inputBoxWidth=120}J[bv]=false;table.insert(aP.items,aX)return aX end;function UILib:CreateColorPicker(aP,aQ,aY,aR)local by="colorpicker_"..#aP.items+1;aY=Color3.fromRGB(255,255,255)local bz,bA,bB=aC(aY.R,aY.G,aY.B)local aT=Drawing.new("Square")aT.Filled=true;aT.Color=z;aT.Corner=5;aT.ZIndex=as.CONTROLS;aT.Position=Vector2.new(0,0)aT.Size=Vector2.new(s,t)local aU=Drawing.new("Text")aU.Text=aQ;aU.Color=A;aU.ZIndex=as.CONTROLS+1;aU.Position=Vector2.new(0,0)local b7=Drawing.new("Square")b7.Filled=true;b7.Color=aY;b7.Corner=5;b7.ZIndex=as.CONTROLS+2;b7.Position=Vector2.new(0,0)b7.Size=Vector2.new(24,24)local bC=Drawing.new("Square")bC.Filled=true;bC.Color=z;bC.Corner=5;bC.Visible=false;bC.ZIndex=as.COLOR_PICKER;bC.Position=Vector2.new(0,0)bC.Size=Vector2.new(200,250)local bD=Drawing.new("Square")bD.Filled=true;bD.Color=aY;bD.Corner=5;bD.Visible=false;bD.ZIndex=as.COLOR_PICKER+1;bD.Position=Vector2.new(0,0)bD.Size=Vector2.new(180,40)local bE=Drawing.new("Square")bE.Filled=true;bE.Color=Color3.fromRGB(255,0,0)bE.Corner=5;bE.Visible=false;bE.ZIndex=as.COLOR_PICKER+1;bE.Position=Vector2.new(0,0)bE.Size=Vector2.new(180,25)local bF=Drawing.new("Square")bF.Filled=true;bF.Color=Color3.fromRGB(255,0,0)bF.Corner=5;bF.Visible=false;bF.ZIndex=as.COLOR_PICKER+1;bF.Position=Vector2.new(0,0)bF.Size=Vector2.new(180,25)local bG=Drawing.new("Square")bG.Filled=true;bG.Color=Color3.fromRGB(255,0,0)bG.Corner=5;bG.Visible=false;bG.ZIndex=as.COLOR_PICKER+1;bG.Position=Vector2.new(0,0)bG.Size=Vector2.new(180,25)local aX={type="colorpicker",id=by,container=aT,label=aU,previewBox=b7,pickerContainer=bC,selectedColorPreview=bD,hueGradient=bE,saturationGradient=bF,valueGradient=bG,callback=aR,currentColor=aY,isOpen=false,text=aQ,containerPos=Vector2.new(0,0),containerSize=Vector2.new(s,t),previewBoxSize=24,pickerWidth=200,pickerHeight=250,pickerPos=Vector2.new(0,0),previewPos=Vector2.new(0,0),huePos=Vector2.new(0,0),hueSize=Vector2.new(180,25),saturationPos=Vector2.new(0,0),saturationSize=Vector2.new(180,25),valuePos=Vector2.new(0,0),valueSize=Vector2.new(180,25),selectedPreviewPos=Vector2.new(0,0),selectedPreviewSize=Vector2.new(180,40),hue=bz or 0,saturation=bA or 1,value=bB or 1,titleBg=nil,titleText=nil,hueSegments={},saturationSegments={},valueSegments={}}aX.titleBg=Drawing.new("Square")aX.titleBg.Filled=true;aX.titleBg.Color=z;aX.titleBg.Corner=5;aX.titleBg.ZIndex=as.COLOR_PICKER;aX.titleBg.Position=Vector2.new(0,0)aX.titleBg.Size=Vector2.new(200,35)aX.titleBg.Visible=false;aX.titleText=Drawing.new("Text")aX.titleText.Color=A;aX.titleText.ZIndex=as.COLOR_PICKER+1;aX.titleText.Text=aQ;aX.titleText.Position=Vector2.new(0,0)aX.titleText.Visible=false;function aX:UpdateColor()local az,aA,aB=at(self.hue,self.saturation,self.value)az=math.floor(az*255)aA=math.floor(aA*255)aB=math.floor(aB*255)self.currentColor=Color3.fromRGB(az,aA,aB)self.previewBox.Color=self.currentColor;self.selectedColorPreview.Color=self.currentColor;if self.callback then self.callback(self.currentColor)end end;function aX:UpdateColorPicker(j,bh)if not bh or not self.isOpen then self.pickerContainer.Visible=false;self.selectedColorPreview.Visible=false;self.hueGradient.Visible=false;self.saturationGradient.Visible=false;self.valueGradient.Visible=false;if self.titleBg then self.titleBg.Visible=false end;if self.titleText then self.titleText.Visible=false end;if self.hueSegments then for bf,bH in ipairs(self.hueSegments)do bH.Visible=false end end;if self.saturationSegments then for bf,bH in ipairs(self.saturationSegments)do bH.Visible=false end end;if self.valueSegments then for bf,bH in ipairs(self.valueSegments)do bH.Visible=false end end;return end;self.container.Position=self.containerPos;self.container.Size=self.containerSize;self.container.Visible=true;self.container.Color=z;self.label.Position=Vector2.new(self.containerPos.x+15,self.containerPos.y+self.containerSize.y/2-7)self.label.Visible=true;local bj=self.containerPos.x+self.containerSize.x-self.previewBoxSize-15;local bk=self.containerPos.y+(self.containerSize.y-self.previewBoxSize)/2;self.previewPos=Vector2.new(bj,bk)self.previewBox.Position=self.previewPos;self.previewBox.Size=Vector2.new(self.previewBoxSize,self.previewBoxSize)self.previewBox.Visible=true;if self.isOpen then local bn=self.containerPos.x+self.containerSize.x+10;local bo=self.containerPos.y;self.pickerPos=Vector2.new(bn,bo)self.pickerContainer.Position=self.pickerPos;self.pickerContainer.Size=Vector2.new(self.pickerWidth,self.pickerHeight)self.pickerContainer.Visible=true;self.titleBg.Position=Vector2.new(bn,bo)self.titleBg.Size=Vector2.new(self.pickerWidth,35)self.titleBg.Visible=true;self.titleText.Text=self.text;self.titleText.Position=Vector2.new(bn+10,bo+10)self.titleText.Visible=true;self.selectedPreviewPos=Vector2.new(bn+10,bo+45)self.selectedPreviewSize=Vector2.new(self.pickerWidth-20,40)self.selectedColorPreview.Position=self.selectedPreviewPos;self.selectedColorPreview.Size=self.selectedPreviewSize;self.selectedColorPreview.Visible=true;self.huePos=Vector2.new(bn+10,bo+95)self.hueSize=Vector2.new(self.pickerWidth-20,25)self.hueGradient.Position=self.huePos;self.hueGradient.Size=self.hueSize;self.hueGradient.Visible=true;self.saturationPos=Vector2.new(bn+10,bo+130)self.saturationSize=Vector2.new(self.pickerWidth-20,25)self.saturationGradient.Position=self.saturationPos;self.saturationGradient.Size=self.saturationSize;self.saturationGradient.Visible=true;self.valuePos=Vector2.new(bn+10,bo+165)self.valueSize=Vector2.new(self.pickerWidth-20,25)self.valueGradient.Position=self.valuePos;self.valueGradient.Size=self.valueSize;self.valueGradient.Visible=true;local bI=36;local bJ=self.hueSize.x/bI;for Q=0,bI-1 do if not self.hueSegments[Q+1]then self.hueSegments[Q+1]=Drawing.new("Square")self.hueSegments[Q+1].Filled=true;self.hueSegments[Q+1].ZIndex=self.hueGradient.ZIndex;self.hueSegments[Q+1].Corner=0 end;local bH=self.hueSegments[Q+1]local bK=Q/bI;local az,aA,aB=at(bK,1,1)bH.Position=Vector2.new(self.huePos.x+Q*bJ,self.huePos.y)bH.Size=Vector2.new(bJ+0.5,self.hueSize.y)bH.Color=Color3.fromRGB(az*255,aA*255,aB*255)bH.Visible=true end;local bL,bM,bN=at(self.hue,1,self.value)for Q=0,bI-1 do if not self.saturationSegments[Q+1]then self.saturationSegments[Q+1]=Drawing.new("Square")self.saturationSegments[Q+1].Filled=true;self.saturationSegments[Q+1].ZIndex=self.saturationGradient.ZIndex;self.saturationSegments[Q+1].Corner=0 end;local bH=self.saturationSegments[Q+1]local bO=Q/bI;local az=bL*bO+1-bO;local aA=bM*bO+1-bO;local aB=bN*bO+1-bO;bH.Position=Vector2.new(self.saturationPos.x+Q*bJ,self.saturationPos.y)bH.Size=Vector2.new(bJ+0.5,self.saturationSize.y)bH.Color=Color3.fromRGB(az*255,aA*255,aB*255)bH.Visible=true end;local bL,bM,bN=at(self.hue,self.saturation,1)for Q=0,bI-1 do if not self.valueSegments[Q+1]then self.valueSegments[Q+1]=Drawing.new("Square")self.valueSegments[Q+1].Filled=true;self.valueSegments[Q+1].ZIndex=self.valueGradient.ZIndex;self.valueSegments[Q+1].Corner=0 end;local bH=self.valueSegments[Q+1]local d=Q/bI;bH.Position=Vector2.new(self.valuePos.x+Q*bJ,self.valuePos.y)bH.Size=Vector2.new(bJ+0.5,self.valueSize.y)bH.Color=Color3.fromRGB(bL*255*d,bM*255*d,bN*255*d)bH.Visible=true end;local bP=j.x>=self.huePos.x and j.x<=self.huePos.x+self.hueSize.x and j.y>=self.huePos.y and j.y<=self.huePos.y+self.hueSize.y;if bP and G then local bQ=(j.x-self.huePos.x)/self.hueSize.x;self.hue=c(bQ,0,1)self:UpdateColor()end;local bR=j.x>=self.saturationPos.x and j.x<=self.saturationPos.x+self.saturationSize.x and j.y>=self.saturationPos.y and j.y<=self.saturationPos.y+self.saturationSize.y;if bR and G then local bQ=(j.x-self.saturationPos.x)/self.saturationSize.x;self.saturation=c(bQ,0,1)self:UpdateColor()end;local bS=j.x>=self.valuePos.x and j.x<=self.valuePos.x+self.valueSize.x and j.y>=self.valuePos.y and j.y<=self.valuePos.y+self.valueSize.y;if bS and G then local bQ=(j.x-self.valuePos.x)/self.valueSize.x;self.value=c(bQ,0,1)self:UpdateColor()end end end;function aX:Destroy()if self.container then self.container:Remove()end;if self.label then self.label:Remove()end;if self.previewBox then self.previewBox:Remove()end;if self.pickerContainer then self.pickerContainer:Remove()end;if self.selectedColorPreview then self.selectedColorPreview:Remove()end;if self.hueGradient then self.hueGradient:Remove()end;if self.saturationGradient then self.saturationGradient:Remove()end;if self.valueGradient then self.valueGradient:Remove()end;if self.titleBg then self.titleBg:Remove()end;if self.titleText then self.titleText:Remove()end;if self.hueSegments then for bf,bH in ipairs(self.hueSegments)do bH:Remove()end end;if self.saturationSegments then for bf,bH in ipairs(self.saturationSegments)do bH:Remove()end end;if self.valueSegments then for bf,bH in ipairs(self.valueSegments)do bH:Remove()end end end;aU.Text=aQ;aX:UpdateColor()J[by]=false;table.insert(aP.items,aX)return aX end;function UILib:Step()local j=g()H=false;if ismouse1pressed()then if not G then H=true end;G=true else G=false end;if self.toggleKey then local a9=a7[self.toggleKey:upper()]if a9 and ac(a9)and isrbxactive()then k=not k;self:CloseAllDropdownsAndColorPickers()self.base.Visible=k;self.title.Visible=k;self.closeLine1.Visible=k;self.closeLine2.Visible=k;self.minimizeLine.Visible=k;self.closeBox.Visible=false;self.minimizeBox.Visible=false;for bf,aM in ipairs(self.tabs)do aM.tab.Visible=k and not self.minimized;aM.label.Visible=k and not self.minimized;aM.indicator.Visible=k and not self.minimized and aM==self.activeTab;for bf,aX in ipairs(aM.items)do local bT=k and not self.minimized and aM==self.activeTab;if aX.container then aX.container.Visible=bT end;if aX.label then aX.label.Visible=bT end;if aX.box then aX.box.Visible=bT end;if aX.fill then aX.fill.Visible=bT and aX.state end;if aX.bar then aX.bar.Visible=bT end;if aX.indicator then aX.indicator.Visible=bT end;if aX.valueLabel then aX.valueLabel.Visible=bT end;if aX.previewBox then aX.previewBox.Visible=bT end;if aX.selectionText then aX.selectionText.Visible=bT end;if aX.inputBox then aX.inputBox.Visible=bT end;if aX.inputText then aX.inputText.Visible=bT end;if aX.cursor then aX.cursor.Visible=false end;if aX.type=="dropdown"or aX.type=="colorpicker"then aX.isOpen=false end end end end end;function UILib:CreateDropdown(aP,aQ,b4,aY,aR,b5)local b6="dropdown_"..#aP.items+1;local aT=Drawing.new("Square")aT.Filled=true;aT.Color=z;aT.Corner=5;aT.ZIndex=as.CONTROLS;aT.Position=Vector2.new(0,0)aT.Size=Vector2.new(s,t)local aU=Drawing.new("Text")aU.Text=aQ;aU.Color=A;aU.ZIndex=as.CONTROLS+1;aU.Position=Vector2.new(0,0)local b7=Drawing.new("Square")b7.Filled=true;b7.Color=B;b7.Corner=5;b7.ZIndex=as.CONTROLS+2;b7.Position=Vector2.new(0,0)b7.Size=Vector2.new(120,24)local b8=Drawing.new("Text")b8.Color=A;b8.ZIndex=as.CONTROLS+3;b8.Position=Vector2.new(0,0)b8.Text=aY or b4[1]local b9=Drawing.new("Square")b9.Filled=true;b9.Color=z;b9.Corner=5;b9.Visible=false;b9.ZIndex=as.DROPDOWN_BASE;b9.Position=Vector2.new(0,0)b9.Size=Vector2.new(200,200)local ba={}for Q,bb in ipairs(b4)do local bc=Drawing.new("Square")bc.Filled=true;bc.Color=B;bc.Corner=5;bc.Visible=false;bc.ZIndex=as.DROPDOWN_OPTIONS+Q*2;bc.Position=Vector2.new(0,0)bc.Size=Vector2.new(190,25)local bd=Drawing.new("Text")local be=tostring(bb)bd.Text=be;bd.Color=A;bd.Visible=false;bd.ZIndex=as.DROPDOWN_OPTIONS+Q*2+1;bd.Position=Vector2.new(0,0)table.insert(ba,{background=bc,label=bd,text=bb,isHovered=false,selected=false})end;local aX={type="dropdown",id=b6,container=aT,label=aU,previewBox=b7,selectionText=b8,dropdownContainer=b9,options=ba,callback=aR,currentOption=aY or b4[1],selectedOptions={},isOpen=false,text=aQ,containerPos=Vector2.new(0,0),containerSize=Vector2.new(s,t),previewBoxSize=120,dropdownWidth=200,dropdownHeight=200,optionHeight=30,titleBg=nil,titleText=nil,multipleOptions=b5 or false}if b5 and type(aY)=="table"then for bf,bg in ipairs(aY)do aX.selectedOptions[bg]=true end end;aX.titleBg=Drawing.new("Square")aX.titleBg.Filled=true;aX.titleBg.Color=z;aX.titleBg.Corner=5;aX.titleBg.ZIndex=as.DROPDOWN_OPTIONS;aX.titleBg.Position=Vector2.new(0,0)aX.titleBg.Size=Vector2.new(200,35)aX.titleBg.Visible=false;aX.titleText=Drawing.new("Text")aX.titleText.Color=A;aX.titleText.ZIndex=as.DROPDOWN_OPTIONS+1;aX.titleText.Text=aQ;aX.titleText.Position=Vector2.new(0,0)aX.titleText.Visible=false;function aX:UpdateDropdown(j,bh)if not bh then self.dropdownContainer.Visible=false;if self.titleBg then self.titleBg.Visible=false end;if self.titleText then self.titleText.Visible=false end;for bf,bi in ipairs(self.options)do bi.background.Visible=false;bi.label.Visible=false end;return end;self.container.Position=self.containerPos;self.container.Size=self.containerSize;self.container.Visible=true;self.container.Color=z;self.label.Position=Vector2.new(self.containerPos.x+15,self.containerPos.y+self.containerSize.y/2-7)self.label.Visible=true;local bj=self.containerPos.x+self.containerSize.x-120-15;local bk=self.containerPos.y+(self.containerSize.y-24)/2;self.previewBox.Position=Vector2.new(bj,bk)self.previewBox.Size=Vector2.new(120,24)self.previewBox.Visible=true;if self.multipleOptions then local bl=0;self.selectedOptions=self.selectedOptions or{}for bg,bm in pairs(self.selectedOptions)do if bm then bl=bl+1 end end;self.selectionText.Text=bl>0 and bl.." selected"or"None"else self.selectionText.Text=self.currentOption end;self.selectionText.Position=Vector2.new(bj+10,bk+4)self.selectionText.Visible=true;if self.isOpen then local bn=self.containerPos.x+self.containerSize.x+10;local bo=self.containerPos.y;self.titleBg.Position=Vector2.new(bn,bo)self.titleBg.Size=Vector2.new(self.dropdownWidth,35)self.titleBg.Visible=true;self.titleText.Text=self.text;self.titleText.Position=Vector2.new(bn+10,bo+10)self.titleText.Visible=true;self.dropdownContainer.Position=Vector2.new(bn,bo)self.dropdownContainer.Size=Vector2.new(self.dropdownWidth,#self.options*self.optionHeight+35)self.dropdownContainer.Visible=true;for Q,bi in ipairs(self.options)do local bp=bo+35+(Q-1)*self.optionHeight;local bq=bn+5;bi.currentPos=Vector2.new(bq,bp)bi.currentSize=Vector2.new(self.dropdownWidth-10,self.optionHeight-5)bi.background.Position=bi.currentPos;bi.background.Size=bi.currentSize;bi.background.Visible=true;bi.label.Position=Vector2.new(bn+15,bp+7)bi.label.Visible=true;local br=j.x>=bi.currentPos.x and j.x<=bi.currentPos.x+bi.currentSize.x and j.y>=bi.currentPos.y and j.y<=bi.currentPos.y+bi.currentSize.y;if self.multipleOptions then bi.background.Color=self.selectedOptions[bi.text]and y or(br and D or B)else bi.background.Color=bi.text==self.currentOption and y or(br and D or B)end;bi.isHovered=br;if br and H then if self.multipleOptions then self.selectedOptions[bi.text]=not self.selectedOptions[bi.text]if self.callback then local bs={}for bg,bm in pairs(self.selectedOptions)do if bm then table.insert(bs,bg)end end;self.callback(bs)end else self.currentOption=bi.text;if self.callback then self.callback({bi.text})end end end end end end;J[b6]=false;table.insert(aP.items,aX)return aX end;if not k then return end;self:UpdateNotifications()local bU=UILib._IsMouseWithinBounds(Vector2.new(l+n-30,m+5),Vector2.new(25,25))self.closeBox.Visible=bU;if bU and H then self:Destroy()return end;local bV=UILib._IsMouseWithinBounds(Vector2.new(l+n-60,m+5),Vector2.new(25,25))self.minimizeBox.Visible=bV;if bV and H then self.minimized=not self.minimized;for bf,aM in ipairs(self.tabs)do for bf,aX in ipairs(aM.items)do if aX.type=="colorpicker"then aX.isOpen=false;if aX.pickerContainer then aX.pickerContainer.Visible=false end;if aX.selectedColorPreview then aX.selectedColorPreview.Visible=false end;if aX.hueGradient then aX.hueGradient.Visible=false end;if aX.valueGradient then aX.valueGradient.Visible=false end;if aX.titleBg then aX.titleBg.Visible=false end;if aX.titleText then aX.titleText.Visible=false end;if aX.hueSegments then for bf,bH in ipairs(aX.hueSegments)do bH.Visible=false end end;if aX.valueSegments then for bf,bH in ipairs(aX.valueSegments)do bH.Visible=false end end end end end;self.base.Size=Vector2.new(n,self.minimized and 35 or o)for bf,aM in ipairs(self.tabs)do aM.tab.Visible=not self.minimized;aM.label.Visible=not self.minimized;aM.indicator.Visible=not self.minimized and aM==self.activeTab;for bf,aX in ipairs(aM.items)do if aX.container then aX.container.Visible=not self.minimized and aM==self.activeTab end;if aX.label then aX.label.Visible=not self.minimized and aM==self.activeTab end;if aX.box then aX.box.Visible=not self.minimized and aM==self.activeTab end;if aX.fill then aX.fill.Visible=not self.minimized and aM==self.activeTab and aX.state end;if aX.bar then aX.bar.Visible=not self.minimized and aM==self.activeTab end;if aX.indicator then aX.indicator.Visible=not self.minimized and aM==self.activeTab end;if aX.valueLabel then aX.valueLabel.Visible=not self.minimized and aM==self.activeTab end end end end;if H and UILib._IsMouseWithinBounds(Vector2.new(l,m),Vector2.new(n-65,30))and not E then E=true;F=Vector2.new(j.x-l,j.y-m)elseif not ismouse1pressed()then E=false end;if E then l=j.x-F.x;m=j.y-F.y;self.base.Position=Vector2.new(l,m)self.title.Position=Vector2.new(l+10,m+10)self.closeBox.Position=Vector2.new(l+n-30,m+5)self.closeLine1.From=Vector2.new(l+n-25,m+10)self.closeLine1.To=Vector2.new(l+n-10,m+25)self.closeLine2.From=Vector2.new(l+n-25,m+25)self.closeLine2.To=Vector2.new(l+n-10,m+10)self.minimizeBox.Position=Vector2.new(l+n-60,m+5)self.minimizeLine.From=Vector2.new(l+n-55,m+17)self.minimizeLine.To=Vector2.new(l+n-40,m+17)for bf,aM in ipairs(self.tabs)do local aK=m+50+(aM.index-1)*(q+r)aM.tab.Position=Vector2.new(l+10,aK)aM.label.Position=Vector2.new(l+20,aK+8)aM.indicator.Position=Vector2.new(l+10,aK+5)aM.pos=Vector2.new(l+10,aK)aM.tab.Visible=not self.minimized;aM.label.Visible=not self.minimized;aM.indicator.Visible=not self.minimized and aM==self.activeTab end end;if H and not E and not self.minimized then for bf,aM in ipairs(self.tabs)do if UILib._IsMouseWithinBounds(aM.pos,aM.size)then for bf,bW in ipairs(self.tabs)do for bf,aX in ipairs(bW.items)do if aX.type=="colorpicker"then aX.isOpen=false;if aX.pickerContainer then aX.pickerContainer.Visible=false end;if aX.selectedColorPreview then aX.selectedColorPreview.Visible=false end;if aX.hueGradient then aX.hueGradient.Visible=false end;if aX.valueGradient then aX.valueGradient.Visible=false end;if aX.titleBg then aX.titleBg.Visible=false end;if aX.titleText then aX.titleText.Visible=false end;if aX.hueSegments then for bf,bH in ipairs(aX.hueSegments)do bH.Visible=false end end;if aX.valueSegments then for bf,bH in ipairs(aX.valueSegments)do bH.Visible=false end end end end end;self.activeTab=aM;for bf,bW in ipairs(self.tabs)do bW.indicator.Visible=not self.minimized and bW==aM end end end end;for bf,aM in ipairs(self.tabs)do local bX=not self.minimized and UILib._IsMouseWithinBounds(aM.pos,aM.size)if bX and not K[aM.id]then K[aM.id]=true elseif not bX and K[aM.id]then K[aM.id]=false end;aM.indicator.Visible=not self.minimized and aM==self.activeTab;aM.tab.Color=K[aM.id]and C or z end;for bf,aM in ipairs(self.tabs)do local bT=aM==self.activeTab and not self.minimized;for Q,aX in ipairs(aM.items)do local bY=m+50+(Q-1)*(t+r)local bZ=l+130;aX.containerPos=Vector2.new(bZ,bY)aX.container.Position=aX.containerPos;aX.container.Size=aX.containerSize;aX.container.Filled=true;aX.container.Visible=bT;aX.container.Corner=5;if aX.type=="button"then aX.label.Text=aX.text;aX.label.Position=Vector2.new(bZ+15,bY+t/2-7)aX.label.Color=A;aX.label.Visible=bT;local bX=UILib._IsMouseWithinBounds(aX.containerPos,aX.containerSize)if bX and not J[aX.id]then J[aX.id]=true elseif not bX and J[aX.id]then J[aX.id]=false end;aX.container.Color=J[aX.id]and C or z;local b_=bZ+s-25;local c0=bY+t/2;local c1=6;aX.arrowLine1.From=Vector2.new(b_,c0-c1)aX.arrowLine1.To=Vector2.new(b_+c1,c0)aX.arrowLine1.Visible=bT;aX.arrowLine2.From=Vector2.new(b_,c0+c1)aX.arrowLine2.To=Vector2.new(b_+c1,c0)aX.arrowLine2.Visible=bT;if bX and H and bT and aX.callback then aX.callback()end elseif aX.type=="toggle"then aX.label.Text=aX.text;aX.label.Position=Vector2.new(bZ+15,bY+t/2-7)aX.label.Color=A;aX.label.Visible=bT;local c2=bZ+s-aX.checkboxSize.x-15;local c3=bY+t/2-aX.checkboxSize.y/2;aX.checkboxPos=Vector2.new(c2,c3)aX.box.Position=aX.checkboxPos;aX.box.Size=aX.checkboxSize;aX.box.Filled=true;aX.box.Color=B;aX.box.Corner=3;aX.box.Visible=bT;aX.fill.Position=Vector2.new(c2+3,c3+3)aX.fill.Size=Vector2.new(aX.checkboxSize.x-6,aX.checkboxSize.y-6)aX.fill.Filled=true;aX.fill.Color=y;aX.fill.Corner=2;aX.fill.Visible=bT and aX.state;local c4=UILib._IsMouseWithinBounds(aX.checkboxPos,aX.checkboxSize)if c4 and H and bT then aX.state=not aX.state;if aX.callback then aX.callback(aX.state)end end;aX.container.Color=z elseif aX.type=="slider"then aX.label.Text=aX.text;aX.label.Position=Vector2.new(bZ+15,bY+t/2-7)aX.label.Color=A;aX.label.Visible=bT;local c5=bZ+s-aX.sliderSize.x-40;local c6=bY+t/2-aX.sliderSize.y/2;aX.sliderPos=Vector2.new(c5,c6)local c7=(aX.value-aX.min)/(aX.max-aX.min)local c8=aX.sliderSize.x*c7;aX.bar.Position=aX.sliderPos;aX.bar.Size=aX.sliderSize;aX.bar.Filled=true;aX.bar.Color=B;aX.bar.Corner=3;aX.bar.Visible=bT;aX.fill.Position=aX.sliderPos;aX.fill.Size=Vector2.new(c8,aX.sliderSize.y)aX.fill.Filled=true;aX.fill.Color=y;aX.fill.Corner=3;aX.fill.Visible=bT;local c9=aX.sliderPos.x+c8-5;local ca=aX.sliderPos.y-3;aX.indicator.Position=Vector2.new(c9,ca)aX.indicator.Visible=bT;aX.valueLabel.Text=tostring(aX.value)aX.valueLabel.Position=Vector2.new(c5-30,bY+t/2-7)aX.valueLabel.Color=A;aX.valueLabel.Visible=bT;aX.container.Color=z;local c4=UILib._IsMouseWithinBounds(aX.sliderPos,aX.sliderSize)if c4 and G and bT then local cb=c(j.x-aX.sliderPos.x,0,aX.sliderSize.x)local cc=cb/aX.sliderSize.X;local cd=math.floor((aX.min+(aX.max-aX.min)*cc)/aX.step+0.5)*aX.step;cd=c(cd,aX.min,aX.max)aX.value=cd;aX.valueLabel.Text=tostring(cd)if aX.callback then aX.callback(cd)end end elseif aX.type=="dropdown"then local bh=k and not self.minimized and aM==self.activeTab;aX.container.Visible=bh;aX.label.Visible=bh;aX.previewBox.Visible=bh;aX.selectionText.Visible=bh;if bh then local bj=aX.containerPos.x+aX.containerSize.x-120-15;local bk=aX.containerPos.y+(aX.containerSize.y-24)/2;local ce=j.x>=bj and j.x<=bj+120 and j.y>=bk and j.y<=bk+24;if ce and H then if not aX.isOpen then self:CloseAllDropdownsAndColorPickers()aX.isOpen=true else aX.isOpen=false;if aX.dropdownContainer then aX.dropdownContainer.Visible=false end;if aX.titleBg then aX.titleBg.Visible=false end;if aX.titleText then aX.titleText.Visible=false end;for bf,bi in ipairs(aX.options)do bi.background.Visible=false;bi.label.Visible=false end end elseif H and aX.pickerContainer and not(j.x>=aX.pickerPos.x and j.x<=aX.pickerPos.x+aX.pickerWidth and j.y>=aX.pickerPos.y and j.y<=aX.pickerPos.y+aX.pickerHeight)then aX.isOpen=false end;aX:UpdateDropdown(j,bh)else aX.isOpen=false;if aX.dropdownContainer then aX.dropdownContainer.Visible=false end;if aX.titleBg then aX.titleBg.Visible=false end;if aX.titleText then aX.titleText.Visible=false end;for bf,bi in ipairs(aX.options)do bi.background.Visible=false;bi.label.Visible=false end end elseif aX.type=="textbox"then local bh=k and not self.minimized and aM==self.activeTab;aX.container.Visible=bh;aX.label.Visible=bh;aX.inputBox.Visible=bh;aX.inputText.Visible=bh;if bh then aX.label.Text=aX.text;aX.label.Position=Vector2.new(bZ+15,bY+t/2-7)aX.label.Color=A;local cf=aX.inputBoxWidth;local cg=bZ+s-cf-15;local ch=bY+t/2-12;aX.inputBox.Size=Vector2.new(cf,24)aX.inputBox.Position=Vector2.new(cg,ch)aX.inputBox.Color=aX.isFocused and a2 or a3;aX.inputText.Text=aX.value==""and aX.placeholder or aX.value;aX.inputText.Position=Vector2.new(cg+8,ch+4)aX.inputText.Color=aX.value==""and Color3.fromRGB(100,100,100)or A;local ci=UILib._IsMouseWithinBounds(Vector2.new(cg,ch),Vector2.new(cf,24))if H then local cj=aX.isFocused;aX.isFocused=ci;if aX.isFocused and not cj and aX.clearOnFocus then aX.value=""end end;if aX.isFocused and isrbxactive()then if aX.text=="Toggle Key"then for a9=0x01,0xFF do if ac(a9)then local ck=a8(a9)if ck then aX.value=ck;if aX.callback then aX.callback(ck)end end end end else for Q=32,126 do if ac(Q)then aX.value=aX.value..string.char(Q)if aX.callback then aX.callback(aX.value)end end end end;if ac(0x08)then if#aX.value>0 then aX.value=aX.value:sub(1,-2)if aX.callback then aX.callback(aX.value)end end end end;aX.container.Color=z end elseif aX.type=="colorpicker"then local bh=k and not self.minimized and aM==self.activeTab;aX.container.Position=aX.containerPos;aX.container.Size=aX.containerSize;aX.container.Visible=bh;aX.container.Color=z;aX.label.Position=Vector2.new(aX.containerPos.x+15,aX.containerPos.y+aX.containerSize.y/2-7)aX.label.Visible=bh;local bj=aX.containerPos.x+aX.containerSize.x-aX.previewBoxSize-15;local bk=aX.containerPos.y+(aX.containerSize.y-aX.previewBoxSize)/2;aX.previewBox.Position=Vector2.new(bj,bk)aX.previewBox.Size=Vector2.new(aX.previewBoxSize,aX.previewBoxSize)aX.previewBox.Visible=bh;if bh then local ce=j.x>=bj and j.x<=bj+aX.previewBoxSize and j.y>=bk and j.y<=bk+aX.previewBoxSize;if ce and H then if not aX.isOpen then self:CloseAllDropdownsAndColorPickers()aX.isOpen=true else aX.isOpen=false end elseif H and aX.isOpen and not(j.x>=aX.pickerPos.x and j.x<=aX.pickerPos.x+aX.pickerWidth and j.y>=aX.pickerPos.y and j.y<=aX.pickerPos.y+aX.pickerHeight)then aX.isOpen=false end;aX:UpdateColorPicker(j,bh)else aX.isOpen=false;if aX.pickerContainer then aX.pickerContainer.Visible=false end;if aX.selectedColorPreview then aX.selectedColorPreview.Visible=false end;if aX.hueGradient then aX.hueGradient.Visible=false end;if aX.saturationGradient then aX.saturationGradient.Visible=false end;if aX.valueGradient then aX.valueGradient.Visible=false end;if aX.titleBg then aX.titleBg.Visible=false end;if aX.titleText then aX.titleText.Visible=false end;if aX.hueSegments then for bf,bH in ipairs(aX.hueSegments)do bH.Visible=false end end;if aX.saturationSegments then for bf,bH in ipairs(aX.saturationSegments)do bH.Visible=false end end;if aX.valueSegments then for bf,bH in ipairs(aX.valueSegments)do bH.Visible=false end end end end end end end;function UILib:Destroy()self.base:Remove()self.title:Remove()self.closeBox:Remove()self.closeLine1:Remove()self.closeLine2:Remove()self.minimizeBox:Remove()self.minimizeLine:Remove()for bf,aM in ipairs(self.tabs)do aM.tab:Remove()aM.label:Remove()aM.indicator:Remove()if aM.id then K[aM.id]=nil end;for bf,aX in ipairs(aM.items)do if aX.container then aX.container:Remove()end;if aX.type=="button"then aX.label:Remove()if aX.arrowLine1 then aX.arrowLine1:Remove()end;if aX.arrowLine2 then aX.arrowLine2:Remove()end;if aX.id then J[aX.id]=nil end elseif aX.type=="toggle"then aX.box:Remove()aX.fill:Remove()aX.label:Remove()elseif aX.type=="slider"then aX.bar:Remove()aX.fill:Remove()aX.label:Remove()if aX.valueLabel then aX.valueLabel:Remove()end;if aX.indicator then aX.indicator:Remove()end elseif aX.type=="dropdown"then if aX.container then aX.container:Remove()end;if aX.label then aX.label:Remove()end;if aX.previewBox then aX.previewBox:Remove()end;if aX.selectionText then aX.selectionText:Remove()end;if aX.dropdownContainer then aX.dropdownContainer:Remove()end;if aX.titleBg then aX.titleBg:Remove()end;if aX.titleText then aX.titleText:Remove()end;if aX.options then for bf,bi in ipairs(aX.options)do if bi.background then bi.background:Remove()end;if bi.label then bi.label:Remove()end end end;if aX.id then J[aX.id]=nil end elseif aX.type=="textbox"then aX.container:Remove()aX.label:Remove()aX.inputBox:Remove()aX.inputText:Remove()if aX.id then J[aX.id]=nil end elseif aX.type=="colorpicker"then if aX.Destroy then aX:Destroy()else if aX.container then aX.container:Remove()end;if aX.label then aX.label:Remove()end;if aX.previewBox then aX.previewBox:Remove()end;if aX.pickerContainer then aX.pickerContainer:Remove()end;if aX.selectedColorPreview then aX.selectedColorPreview:Remove()end;if aX.hueGradient then aX.hueGradient:Remove()end;if aX.valueGradient then aX.valueGradient:Remove()end;if aX.titleBg then aX.titleBg:Remove()end;if aX.titleText then aX.titleText:Remove()end;if aX.hueSegments then for bf,bH in ipairs(aX.hueSegments)do bH:Remove()end end;if aX.valueSegments then for bf,bH in ipairs(aX.valueSegments)do bH:Remove()end end end;if aX.id then J[aX.id]=nil end end end end;self.tabs={}self.activeTab=nil;J={}K={}end;function UILib:Notify(aI)local cl=250;local cm=80;local cn=10;local co=5;local cp=10;local bo=70;local cq=bo;for bf,cr in ipairs(self.notifications)do cq=cq+cm+co+cp end;local aT=Drawing.new("Square")aT.Size=Vector2.new(cl,cm+co)aT.Position=Vector2.new(20,bo)aT.Filled=true;aT.Color=x;aT.Visible=true;aT.Corner=7;aT.ZIndex=50;local cs=Drawing.new("Text")cs.Text=aI.Title or"Notification"cs.Position=Vector2.new(20+cn,bo+cn)cs.Color=y;cs.Visible=true;cs.ZIndex=51;local ct=Drawing.new("Text")ct.Text=aI.Content or""ct.Position=Vector2.new(20+cn,bo+cn+20)ct.Color=A;ct.Visible=true;ct.ZIndex=51;local cu=Drawing.new("Square")cu.Size=Vector2.new(cl,co)cu.Position=Vector2.new(20,bo+cm)cu.Filled=true;cu.Color=Color3.fromRGB(40,40,40)cu.Visible=true;cu.Corner=5;cu.ZIndex=51;local cv=Drawing.new("Square")cv.Size=Vector2.new(cl,co)cv.Position=Vector2.new(20,bo+cm)cv.Filled=true;cv.Color=y;cv.Visible=true;cv.Corner=5;cv.ZIndex=52;local cw={container=aT,title=cs,content=ct,progressBg=cu,progressFill=cv,startTime=os.clock(),duration=aI.Duration or 5,fadeStart=(aI.Duration or 5)-0.5,targetY=cq}table.insert(self.notifications,1,cw)end;function UILib:UpdateNotifications()local bo=70;local cp=10;local cx=85;local Q=1;while Q<=#self.notifications do local cy=self.notifications[Q]local cz=os.clock()-cy.startTime;local cA=bo+(Q-1)*(cx+cp)local cB=cA;if cy.container and cy.container.Position then cB=cy.container.Position.y end;local cC=cB+(cA-cB)*0.2;if cy.container then cy.container.Position=Vector2.new(20,cC)end;if cy.title then cy.title.Position=Vector2.new(20+10,cC+10)end;if cy.content then cy.content.Position=Vector2.new(20+10,cC+30)end;if cy.progressBg then cy.progressBg.Position=Vector2.new(20,cC+80)end;if cy.progressFill then cy.progressFill.Position=Vector2.new(20,cC+80)end;if cz>=cy.duration then if cy.container then cy.container:Remove()end;if cy.title then cy.title:Remove()end;if cy.content then cy.content:Remove()end;if cy.progressBg then cy.progressBg:Remove()end;if cy.progressFill then cy.progressFill:Remove()end;table.remove(self.notifications,Q)else local cD=1-cz/cy.duration;local cE=250*cD;if cy.progressFill then cy.progressFill.Size=Vector2.new(cE,5)end;if cz>=cy.fadeStart then local cF=1-(cz-cy.fadeStart)/(cy.duration-cy.fadeStart)if cy.container then cy.container.Transparency=cF end;if cy.title then cy.title.Transparency=cF end;if cy.content then cy.content.Transparency=cF end;if cy.progressBg then cy.progressBg.Transparency=cF end;if cy.progressFill then cy.progressFill.Transparency=cF end end;Q=Q+1 end end end;function UILib:CloseAllDropdownsAndColorPickers()for bf,aM in ipairs(self.tabs)do for bf,aX in ipairs(aM.items)do if aX.type=="dropdown"or aX.type=="colorpicker"then aX.isOpen=false;if aX.dropdownContainer then aX.dropdownContainer.Visible=false end;if aX.titleBg then aX.titleBg.Visible=false end;if aX.titleText then aX.titleText.Visible=false end;if aX.pickerContainer then aX.pickerContainer.Visible=false end;if aX.selectedColorPreview then aX.selectedColorPreview.Visible=false end;if aX.hueGradient then aX.hueGradient.Visible=false end;if aX.saturationGradient then aX.saturationGradient.Visible=false end;if aX.valueGradient then aX.valueGradient.Visible=false end;if aX.hueSegments then for bf,bH in ipairs(aX.hueSegments)do bH.Visible=false end end;if aX.saturationSegments then for bf,bH in ipairs(aX.saturationSegments)do bH.Visible=false end end;if aX.valueSegments then for bf,bH in ipairs(aX.valueSegments)do bH.Visible=false end end;if aX.options then for bf,bi in ipairs(aX.options)do bi.background.Visible=false;bi.label.Visible=false end end end end end end;local cG=UILib:CreateWindow({Name="antifling for matcha made by issac v1",Theme="Default",ToggleUIKeybind="END"})local cH=cG:CreateTab("main")local cI=false;local cJ=cH:CreateToggle({Name="anti fling",CurrentValue=false,Callback=function(cK)cI=cK end})local cL=game:GetService("Players")local cM=cL.LocalPlayer;function shit()for bf,a in pairs(cL:GetChildren())do local cN=a.Character;if cN and cN.Parent then for bf,cO in pairs(cN:GetDescendants())do if cO:IsA("Part")then if cI then cO.CanCollide=false end end end end;if not cI and a.Name==cM.Name then a.Character.HumanoidRootPart.CanCollide=true;a.Character.Head.CanCollide=true end end end;spawn(function()while true do shit()wait(1)end end)spawn(function()while true do cG:Step()wait(0.01)end end)
